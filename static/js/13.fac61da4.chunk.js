(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[13],{57:function(e,c,t){"use strict";t.r(c);var s=t(2),n=t.n(s),r=t(4),a=t(11),i=t(1),l=t.n(i),o=t(5),j=t(15),d=t(6),b=t(20),u=t(7),O=t(0),m=l.a.lazy((function(){return t.e(6).then(t.bind(null,47))}));c.default=function(){var e=Object(o.i)(),c=Object(i.useState)(),t=Object(a.a)(c,2),s=t[0],l=t[1],h=Object(i.useState)(),x=Object(a.a)(h,2),f=x[0],p=x[1],g=Object(i.useState)("idle"),v=Object(a.a)(g,2),y=v[0],N=v[1],w=Object(i.useState)("idle"),k=Object(a.a)(w,2),P=k[0],S=k[1],C=Object(i.useState)(500),E=Object(a.a)(C,2),z=E[0],F=E[1],J=Object(u.c)((function(e){return e.storeId.id}));Object(i.useEffect)((function(){N("loading");var c=e.category;fetch("".concat("https://ancient-plateau-36518.herokuapp.com","/").concat(c?"getProductsByCategory":"getProducts","/").concat(J,"/").concat(c||50)).then((function(e){if(!e.ok)throw Error("Products not Found");return e.json()})).then((function(e){l(e),N("success")})).catch((function(e){N(e.message)}))}),[e]),Object(i.useEffect)((function(){(function(){var e=Object(r.a)(n.a.mark((function e(c){var t,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("loading"),e.next=3,Object(j.c)(c);case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,S("success"),p(s);case 9:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}})()(4)}),[]);var $=s?s.filter((function(e){return e.price<=z})):null;return"loading"===y&&"loading"===P?Object(O.jsx)(b.a,{}):"success"!==y&&"loading"!==y&&"idle"!==y?Object(O.jsx)("div",{children:y}):Object(O.jsx)("section",{className:"products py-5 my 5",id:"products",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"section_title text-center mb-5",children:Object(O.jsx)("h1",{className:"text-capitalize",children:e.category?e.category:"All Products"})}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-md-3 border-right mb-small-5",children:[Object(O.jsx)("h4",{className:"mb-5 border-bottom",children:"Filters"}),Object(O.jsxs)("div",{className:"mb-5",children:[Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Category"})}),Object(O.jsx)("ul",{className:"list-group",children:f?f.map((function(e){return Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)(d.b,{to:"/".concat(J,"/product/category/").concat(e.category),children:e.category})},e.id)})):Object(O.jsx)(b.a,{})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("form",{children:Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Price"})}),Object(O.jsx)("input",{onChange:function(e){F(e.target.value)},type:"range",min:"50",max:"1000",step:"50",className:"form-control-range",value:z})]})}),Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsxs)("label",{children:["$",z]}),Object(O.jsx)("label",{children:"$1000"})]})]})]}),Object(O.jsx)("div",{className:"col-md-9",children:Object(O.jsx)("div",{className:"row mb-5",children:"success"===y?$.map((function(e){return Object(O.jsx)(m,{image:e.image,title:e.title,price:e.price,id:e.id},e.id)})):Object(O.jsx)(b.a,{})})})]})]})})}}}]);
//# sourceMappingURL=13.fac61da4.chunk.js.map